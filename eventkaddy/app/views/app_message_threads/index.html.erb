
<h4>App Message Threads</h4>

<table id="app_message_threads" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" data-source="<%= app_message_threads_url(format: "json") %>">
  <thead>
    <tr>
      <th>Title</th>
      <th>Messages</th>
      <th>Hidden</th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody></tbody>
</table>

<script>
$(function() {
    $.extend(
        $.fn.dataTableExt.oStdClasses,
        { "sWrapper": "dataTables_wrapper form-inline" }
    );

    $('#app_message_threads').dataTable({
        "sDom": "<'pull-left'l><'pull-right'f>rt<'pull-left'i><'pull-right'p>",
        "sPaginationType": "bootstrap",
        "bProcessing":     true,
        "bServerSide":     true,
        "sAjaxSource":     $('#app_message_threads').data('source'),
        "aoColumnDefs": [{
            'bSortable': false,
            'aTargets': [3, 4]
        }],
        'aaSorting': [[2, 'desc']] // sort by Hidden count
    });
    return $('table.dataTable th').css('padding-right', '20px');
});
</script>
